{"remainingRequest":"/mnt/c/Users/임태희/Desktop/최종프로젝트/vue/node_modules/babel-loader/lib/index.js!/mnt/c/Users/임태희/Desktop/최종프로젝트/vue/node_modules/eslint-loader/index.js??ref--14-0!/mnt/c/Users/임태희/Desktop/최종프로젝트/vue/src/assets/compressor.js","dependencies":[{"path":"/mnt/c/Users/임태희/Desktop/최종프로젝트/vue/src/assets/compressor.js","mtime":1638585482351},{"path":"/mnt/c/Users/임태희/Desktop/최종프로젝트/vue/babel.config.js","mtime":1638249462730},{"path":"/mnt/c/Users/임태희/Desktop/최종프로젝트/vue/node_modules/cache-loader/dist/cjs.js","mtime":1638249467723},{"path":"/mnt/c/Users/임태희/Desktop/최종프로젝트/vue/node_modules/babel-loader/lib/index.js","mtime":1638249467481},{"path":"/mnt/c/Users/임태희/Desktop/최종프로젝트/vue/node_modules/eslint-loader/index.js","mtime":1638249471321}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF90eXBlb2YgPSByZXF1aXJlKCIvbW50L2MvVXNlcnMvXHVDNzg0XHVEMERDXHVENzZDL0Rlc2t0b3AvXHVDRDVDXHVDODg1XHVENTA0XHVCODVDXHVDODFEXHVEMkI4L3Z1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy90eXBlb2YiKS5kZWZhdWx0OwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbi5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wudG8tc3RyaW5nLXRhZy5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24udG8tc3RyaW5nLXRhZy5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm1hdGgudG8tc3RyaW5nLXRhZy5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zdGFydHMtd2l0aC5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci50by1maXhlZC5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5pdGVyYXRvci5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mcm9tLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudGVzdC5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5hc3luYy1pdGVyYXRvci5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtcHJvdG90eXBlLW9mLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2guanMiKTsKCiFmdW5jdGlvbiAodCwgZSkgewogIGlmICgib2JqZWN0IiA9PSAodHlwZW9mIGV4cG9ydHMgPT09ICJ1bmRlZmluZWQiID8gInVuZGVmaW5lZCIgOiBfdHlwZW9mKGV4cG9ydHMpKSAmJiAib2JqZWN0IiA9PSAodHlwZW9mIG1vZHVsZSA9PT0gInVuZGVmaW5lZCIgPyAidW5kZWZpbmVkIiA6IF90eXBlb2YobW9kdWxlKSkpIG1vZHVsZS5leHBvcnRzID0gZSgpO2Vsc2UgaWYgKCJmdW5jdGlvbiIgPT0gdHlwZW9mIGRlZmluZSAmJiBkZWZpbmUuYW1kKSBkZWZpbmUoW10sIGUpO2Vsc2UgewogICAgdmFyIHIgPSBlKCk7CgogICAgZm9yICh2YXIgbiBpbiByKSB7CiAgICAgICgib2JqZWN0IiA9PSAodHlwZW9mIGV4cG9ydHMgPT09ICJ1bmRlZmluZWQiID8gInVuZGVmaW5lZCIgOiBfdHlwZW9mKGV4cG9ydHMpKSA/IGV4cG9ydHMgOiB0KVtuXSA9IHJbbl07CiAgICB9CiAgfQp9KHdpbmRvdywgZnVuY3Rpb24gKCkgewogIHJldHVybiBmdW5jdGlvbiAodCkgewogICAgdmFyIGUgPSB7fTsKCiAgICBmdW5jdGlvbiByKG4pIHsKICAgICAgaWYgKGVbbl0pIHJldHVybiBlW25dLmV4cG9ydHM7CiAgICAgIHZhciBpID0gZVtuXSA9IHsKICAgICAgICBpOiBuLAogICAgICAgIGw6ICExLAogICAgICAgIGV4cG9ydHM6IHt9CiAgICAgIH07CiAgICAgIHJldHVybiB0W25dLmNhbGwoaS5leHBvcnRzLCBpLCBpLmV4cG9ydHMsIHIpLCBpLmwgPSAhMCwgaS5leHBvcnRzOwogICAgfQoKICAgIHJldHVybiByLm0gPSB0LCByLmMgPSBlLCByLmQgPSBmdW5jdGlvbiAodCwgZSwgbikgewogICAgICByLm8odCwgZSkgfHwgT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIGUsIHsKICAgICAgICBlbnVtZXJhYmxlOiAhMCwKICAgICAgICBnZXQ6IG4KICAgICAgfSk7CiAgICB9LCByLnIgPSBmdW5jdGlvbiAodCkgewogICAgICAidW5kZWZpbmVkIiAhPSB0eXBlb2YgU3ltYm9sICYmIFN5bWJvbC50b1N0cmluZ1RhZyAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodCwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7CiAgICAgICAgdmFsdWU6ICJNb2R1bGUiCiAgICAgIH0pLCBPYmplY3QuZGVmaW5lUHJvcGVydHkodCwgIl9fZXNNb2R1bGUiLCB7CiAgICAgICAgdmFsdWU6ICEwCiAgICAgIH0pOwogICAgfSwgci50ID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgaWYgKDEgJiBlICYmICh0ID0gcih0KSksIDggJiBlKSByZXR1cm4gdDsKICAgICAgaWYgKDQgJiBlICYmICJvYmplY3QiID09IF90eXBlb2YodCkgJiYgdCAmJiB0Ll9fZXNNb2R1bGUpIHJldHVybiB0OwogICAgICB2YXIgbiA9IE9iamVjdC5jcmVhdGUobnVsbCk7CiAgICAgIGlmIChyLnIobiksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCAiZGVmYXVsdCIsIHsKICAgICAgICBlbnVtZXJhYmxlOiAhMCwKICAgICAgICB2YWx1ZTogdAogICAgICB9KSwgMiAmIGUgJiYgInN0cmluZyIgIT0gdHlwZW9mIHQpIGZvciAodmFyIGkgaW4gdCkgewogICAgICAgIHIuZChuLCBpLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuIHRbZV07CiAgICAgICAgfS5iaW5kKG51bGwsIGkpKTsKICAgICAgfQogICAgICByZXR1cm4gbjsKICAgIH0sIHIubiA9IGZ1bmN0aW9uICh0KSB7CiAgICAgIHZhciBlID0gdCAmJiB0Ll9fZXNNb2R1bGUgPyBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHQuZGVmYXVsdDsKICAgICAgfSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdDsKICAgICAgfTsKICAgICAgcmV0dXJuIHIuZChlLCAiYSIsIGUpLCBlOwogICAgfSwgci5vID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LCBlKTsKICAgIH0sIHIucCA9ICIvZGlzdC8iLCByKHIucyA9IDYpOwogIH0oW2Z1bmN0aW9uICh0LCBlLCByKSB7CiAgICB0LmV4cG9ydHMgPSByKDEyKTsKICB9LCBmdW5jdGlvbiAodCwgZSkgewogICAgZnVuY3Rpb24gcih0LCBlLCByLCBuLCBpLCBvLCBhKSB7CiAgICAgIHRyeSB7CiAgICAgICAgdmFyIHUgPSB0W29dKGEpLAogICAgICAgICAgICBjID0gdS52YWx1ZTsKICAgICAgfSBjYXRjaCAodCkgewogICAgICAgIHJldHVybiB2b2lkIHIodCk7CiAgICAgIH0KCiAgICAgIHUuZG9uZSA/IGUoYykgOiBQcm9taXNlLnJlc29sdmUoYykudGhlbihuLCBpKTsKICAgIH0KCiAgICB0LmV4cG9ydHMgPSBmdW5jdGlvbiAodCkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBlID0gdGhpcywKICAgICAgICAgICAgbiA9IGFyZ3VtZW50czsKICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGksIG8pIHsKICAgICAgICAgIHZhciBhID0gdC5hcHBseShlLCBuKTsKCiAgICAgICAgICBmdW5jdGlvbiB1KHQpIHsKICAgICAgICAgICAgcihhLCBpLCBvLCB1LCBjLCAibmV4dCIsIHQpOwogICAgICAgICAgfQoKICAgICAgICAgIGZ1bmN0aW9uIGModCkgewogICAgICAgICAgICByKGEsIGksIG8sIHUsIGMsICJ0aHJvdyIsIHQpOwogICAgICAgICAgfQoKICAgICAgICAgIHUodm9pZCAwKTsKICAgICAgICB9KTsKICAgICAgfTsKICAgIH07CiAgfSwgZnVuY3Rpb24gKHQsIGUpIHsKICAgIHQuZXhwb3J0cyA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICAgIGlmICghKHQgaW5zdGFuY2VvZiBlKSkgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7CiAgICB9OwogIH0sIGZ1bmN0aW9uICh0LCBlKSB7CiAgICBmdW5jdGlvbiByKHQsIGUpIHsKICAgICAgZm9yICh2YXIgciA9IDA7IHIgPCBlLmxlbmd0aDsgcisrKSB7CiAgICAgICAgdmFyIG4gPSBlW3JdOwogICAgICAgIG4uZW51bWVyYWJsZSA9IG4uZW51bWVyYWJsZSB8fCAhMSwgbi5jb25maWd1cmFibGUgPSAhMCwgInZhbHVlIiBpbiBuICYmIChuLndyaXRhYmxlID0gITApLCBPYmplY3QuZGVmaW5lUHJvcGVydHkodCwgbi5rZXksIG4pOwogICAgICB9CiAgICB9CgogICAgdC5leHBvcnRzID0gZnVuY3Rpb24gKHQsIGUsIG4pIHsKICAgICAgcmV0dXJuIGUgJiYgcih0LnByb3RvdHlwZSwgZSksIG4gJiYgcih0LCBuKSwgdDsKICAgIH07CiAgfSwgZnVuY3Rpb24gKHQsIGUsIHIpIHsKICAgICJ1c2Ugc3RyaWN0IjsKCiAgICByLnIoZSksIHIuZChlLCAiZmlsZTJiNjQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB1OwogICAgfSk7CiAgICB2YXIgbiA9IHIoMCksCiAgICAgICAgaSA9IHIubihuKSwKICAgICAgICBvID0gcigxKSwKICAgICAgICBhID0gci5uKG8pOwoKICAgIGZ1bmN0aW9uIHUodCkgewogICAgICByZXR1cm4gYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIGZ1bmN0aW9uIGMoKSB7CiAgICAgIHJldHVybiAoYyA9IGEoKShpLmEubWFyayhmdW5jdGlvbiB0KGUpIHsKICAgICAgICB2YXIgciwgbjsKICAgICAgICByZXR1cm4gaS5hLndyYXAoZnVuY3Rpb24gKHQpIHsKICAgICAgICAgIGZvciAoOzspIHsKICAgICAgICAgICAgc3dpdGNoICh0LnByZXYgPSB0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByZXR1cm4gciA9IG5ldyBGaWxlUmVhZGVyKCksIG4gPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAodCkgewogICAgICAgICAgICAgICAgICByLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSByLnJlc3VsdDsKICAgICAgICAgICAgICAgICAgICB0KGUpOwogICAgICAgICAgICAgICAgICB9LCAhMSk7CiAgICAgICAgICAgICAgICB9KSwgci5yZWFkQXNEYXRhVVJMKGUpLCB0LmFicnVwdCgicmV0dXJuIiwgbik7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgdCk7CiAgICAgIH0pKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KICB9LCBmdW5jdGlvbiAodCwgZSwgcikgewogICAgdmFyIG4gPSByKDcpLAogICAgICAgIGkgPSByKDgpLAogICAgICAgIG8gPSByKDkpLAogICAgICAgIGEgPSByKDExKTsKCiAgICB0LmV4cG9ydHMgPSBmdW5jdGlvbiAodCwgZSkgewogICAgICByZXR1cm4gbih0KSB8fCBpKHQsIGUpIHx8IG8odCwgZSkgfHwgYSgpOwogICAgfTsKICB9LCBmdW5jdGlvbiAodCwgZSwgcikgewogICAgInVzZSBzdHJpY3QiOwoKICAgIHIucihlKSwgci5kKGUsICJpbWFnZUNvbXByZXNzb3IiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB2OwogICAgfSk7CiAgICB2YXIgbiA9IHIoNSksCiAgICAgICAgaSA9IHIubihuKSwKICAgICAgICBvID0gcigwKSwKICAgICAgICBhID0gci5uKG8pLAogICAgICAgIHUgPSByKDEpLAogICAgICAgIGMgPSByLm4odSksCiAgICAgICAgcyA9IHIoMiksCiAgICAgICAgbCA9IHIubihzKSwKICAgICAgICBmID0gcigzKSwKICAgICAgICBoID0gci5uKGYpOwoKICAgIHZhciBkID0gITAsCiAgICAgICAgcCA9IHsKICAgICAgcHJlZml4U3RyaW5nOiBmdW5jdGlvbiBwcmVmaXhTdHJpbmcoKSB7CiAgICAgICAgcmV0dXJuICI8Lz4gcXVpbGwtaW1hZ2UtY29tcHJlc3M6ICI7CiAgICAgIH0sCgogICAgICBnZXQgbG9nKCkgewogICAgICAgIHJldHVybiBkID8gY29uc29sZS5sb2cuYmluZChjb25zb2xlLCB0aGlzLnByZWZpeFN0cmluZygpKSA6IGZ1bmN0aW9uICgpIHt9OwogICAgICB9LAoKICAgICAgZ2V0IGVycm9yKCkgewogICAgICAgIHJldHVybiBjb25zb2xlLmVycm9yLmJpbmQoY29uc29sZSwgdGhpcy5wcmVmaXhTdHJpbmcoKSk7CiAgICAgIH0sCgogICAgICBnZXQgd2FybigpIHsKICAgICAgICByZXR1cm4gY29uc29sZS53YXJuLmJpbmQoY29uc29sZSwgdGhpcy5wcmVmaXhTdHJpbmcoKSk7CiAgICAgIH0KCiAgICB9LAogICAgICAgIGcgPSByKDEzKS5JbWFnZURyb3AsCiAgICAgICAgbSA9IHIoNCkuZmlsZTJiNjQsCiAgICAgICAgdiA9IGZ1bmN0aW9uICgpIHsKICAgICAgZnVuY3Rpb24gdChlLCByKSB7CiAgICAgICAgdmFyIG4gPSB0aGlzOwogICAgICAgIGwoKSh0aGlzLCB0KSwgdGhpcy5xdWlsbCA9IGUsIHRoaXMucmFuZ2UgPSBudWxsLCB0aGlzLm9wdGlvbnMgPSByLCBkID0gciAmJiByLmRlYnVnOwoKICAgICAgICB2YXIgaSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciB0ID0gYygpKGEuYS5tYXJrKGZ1bmN0aW9uIHQoZSkgewogICAgICAgICAgICB2YXIgcjsKICAgICAgICAgICAgcmV0dXJuIGEuYS53cmFwKGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICAgICAgZm9yICg7OykgewogICAgICAgICAgICAgICAgc3dpdGNoICh0LnByZXYgPSB0Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBwLmxvZygib25JbWFnZURyb3AiLCB7CiAgICAgICAgICAgICAgICAgICAgICBkYXRhVXJsOiBlCiAgICAgICAgICAgICAgICAgICAgfSksIHQubmV4dCA9IDMsIG4uZG93bnNjYWxlSW1hZ2VGcm9tVXJsKGUpOwoKICAgICAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgICAgIHIgPSB0LnNlbnQsIG4uaW5zZXJ0VG9FZGl0b3Iocik7CgogICAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQuc3RvcCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgdCk7CiAgICAgICAgICB9KSk7CiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgcmV0dXJuIHQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgIH07CiAgICAgICAgfSgpOwoKICAgICAgICB0aGlzLmltYWdlRHJvcCA9IG5ldyBnKGUsIGksIHApLCBmdW5jdGlvbiAodCkgewogICAgICAgICAgdC5tYXhXaWR0aCA9IHQubWF4V2lkdGggfHwgMWUzLCB0Lm1heEhlaWdodCA9IHQubWF4SGVpZ2h0IHx8IDFlMywgdC5tYXhXaWR0aCAmJiAibnVtYmVyIiAhPSB0eXBlb2YgdC5tYXhXaWR0aCAmJiAocC53YXJuKCJbY29uZmlnIGVycm9yXSAnbWF4V2lkdGgnIGlzIHJlcXVpcmVkIHRvIGJlIGEgXCJudW1iZXJcIiAoaW4gcGl4ZWxzKSwgXG5yZWNpZXZlZDogIi5jb25jYXQodC5tYXhXaWR0aCwgIlxuLT4gdXNpbmcgZGVmYXVsdCAxMDAwIikpLCB0Lm1heFdpZHRoID0gMWUzKSwgdC5tYXhIZWlnaHQgJiYgIm51bWJlciIgIT0gdHlwZW9mIHQubWF4SGVpZ2h0ICYmIChwLndhcm4oIltjb25maWcgZXJyb3JdICdtYXhIZWlnaHQnIGlzIHJlcXVpcmVkIHRvIGJlIGEgXCJudW1iZXJcIiAoaW4gcGl4ZWxzKSwgXG5yZWNpZXZlZDogIi5jb25jYXQodC5tYXhIZWlnaHQsICJcbi0+IHVzaW5nIGRlZmF1bHQgMTAwMCIpKSwgdC5tYXhIZWlnaHQgPSAxZTMpLCB0LnF1YWxpdHkgJiYgIm51bWJlciIgIT0gdHlwZW9mIHQucXVhbGl0eSAmJiAocC53YXJuKCJxdWlsbC5pbWFnZUNvbXByZXNzb3I6IFtjb25maWcgZXJyb3JdICdxdWFsaXR5JyBpcyByZXF1aXJlZCB0byBiZSBhIFwibnVtYmVyXCIsIFxucmVjaWV2ZWQ6ICIuY29uY2F0KHQucXVhbGl0eSwgIlxuLT4gdXNpbmcgZGVmYXVsdCAwLjciKSksIHQucXVhbGl0eSA9IC43KSwgIXQuaW1hZ2VUeXBlIHx8ICJzdHJpbmciID09IHR5cGVvZiB0LmltYWdlVHlwZSAmJiB0LmltYWdlVHlwZS5zdGFydHNXaXRoKCJpbWFnZS8iKSB8fCAocC53YXJuKCdxdWlsbC5pbWFnZUNvbXByZXNzb3I6IFtjb25maWcgZXJyb3JdIFwnaW1hZ2VUeXBlXCcgaXMgcmVxdWlyZWQgYmUgaW4gdGhlIGZvcm0gb2YgImltYWdlL3BuZyIgb3IgImltYWdlL2pwZWciIGV0YyAuLi4sIFxucmVjaWV2ZWQ6ICcuY29uY2F0KHQuaW1hZ2VUeXBlLCAiXG4tPiB1c2luZyBkZWZhdWx0IGltYWdlL2pwZWciKSksIHQuaW1hZ2VUeXBlID0gImltYWdlL2pwZWciKTsKICAgICAgICB9KHIpLCBwLmxvZygiZmlsZUNoYW5nZWQiLCB7CiAgICAgICAgICBvcHRpb25zOiByLAogICAgICAgICAgcXVpbGw6IGUsCiAgICAgICAgICBkZWJ1ZzogZAogICAgICAgIH0pOwogICAgICAgIHZhciBvID0gdGhpcy5xdWlsbC5nZXRNb2R1bGUoInRvb2xiYXIiKTsKICAgICAgICBvID8gby5hZGRIYW5kbGVyKCJpbWFnZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBuLnNlbGVjdExvY2FsSW1hZ2UoKTsKICAgICAgICB9KSA6IHAuZXJyb3IoIlF1aWxsIHRvb2xiYXIgbW9kdWxlIG5vdCBmb3VuZCEgbmVlZCB7IHRvb2xiYXI6IC8vIG9wdGlvbnMgfSBpbiBRdWlsbC5tb2R1bGVzIGZvciBpbWFnZSBpY29uIHRvIHNpdCBpbiIpOwogICAgICB9CgogICAgICB2YXIgZSwgcjsKICAgICAgcmV0dXJuIGgoKSh0LCBbewogICAgICAgIGtleTogInNlbGVjdExvY2FsSW1hZ2UiLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZSgpIHsKICAgICAgICAgIHZhciB0ID0gdGhpczsKICAgICAgICAgIHRoaXMucmFuZ2UgPSB0aGlzLnF1aWxsLmdldFNlbGVjdGlvbigpLCB0aGlzLmZpbGVIb2xkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpLCB0aGlzLmZpbGVIb2xkZXIuc2V0QXR0cmlidXRlKCJ0eXBlIiwgImZpbGUiKSwgdGhpcy5maWxlSG9sZGVyLnNldEF0dHJpYnV0ZSgiYWNjZXB0IiwgImltYWdlLyoiKSwgdGhpcy5maWxlSG9sZGVyLnNldEF0dHJpYnV0ZSgic3R5bGUiLCAidmlzaWJpbGl0eTpoaWRkZW4iKSwgdGhpcy5maWxlSG9sZGVyLm9uY2hhbmdlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gdC5maWxlQ2hhbmdlZCgpOwogICAgICAgICAgfSwgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmZpbGVIb2xkZXIpLCB0aGlzLmZpbGVIb2xkZXIuY2xpY2soKSwgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodC5maWxlSG9sZGVyKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwgewogICAgICAgIGtleTogImZpbGVDaGFuZ2VkIiwKICAgICAgICB2YWx1ZTogKHIgPSBjKCkoYS5hLm1hcmsoZnVuY3Rpb24gdCgpIHsKICAgICAgICAgIHZhciBlLCByLCBuOwogICAgICAgICAgcmV0dXJuIGEuYS53cmFwKGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICAgIGZvciAoOzspIHsKICAgICAgICAgICAgICBzd2l0Y2ggKHQucHJldiA9IHQubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBpZiAoZSA9IHRoaXMuZmlsZUhvbGRlci5maWxlc1swXSwgcC5sb2coImZpbGVDaGFuZ2VkIiwgewogICAgICAgICAgICAgICAgICAgIGZpbGU6IGUKICAgICAgICAgICAgICAgICAgfSksIGUpIHsKICAgICAgICAgICAgICAgICAgICB0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICByZXR1cm4gdC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgcmV0dXJuIHQubmV4dCA9IDYsIG0oZSk7CgogICAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgICByZXR1cm4gciA9IHQuc2VudCwgdC5uZXh0ID0gOSwgdGhpcy5kb3duc2NhbGVJbWFnZUZyb21Vcmwocik7CgogICAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgICBuID0gdC5zZW50LCB0aGlzLmluc2VydFRvRWRpdG9yKG4pOwoKICAgICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICByZXR1cm4gdC5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCB0LCB0aGlzKTsKICAgICAgICB9KSksIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiByLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfSkKICAgICAgfSwgewogICAgICAgIGtleTogImRvd25zY2FsZUltYWdlRnJvbVVybCIsCiAgICAgICAgdmFsdWU6IChlID0gYygpKGEuYS5tYXJrKGZ1bmN0aW9uIHQoZSkgewogICAgICAgICAgdmFyIHI7CiAgICAgICAgICByZXR1cm4gYS5hLndyYXAoZnVuY3Rpb24gKHQpIHsKICAgICAgICAgICAgZm9yICg7OykgewogICAgICAgICAgICAgIHN3aXRjaCAodC5wcmV2ID0gdC5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIHJldHVybiB0Lm5leHQgPSAyLCB5KGUsIHRoaXMub3B0aW9ucy5tYXhXaWR0aCwgdGhpcy5vcHRpb25zLm1heEhlaWdodCwgdGhpcy5vcHRpb25zLmltYWdlVHlwZSwgdGhpcy5vcHRpb25zLnF1YWxpdHksIHRoaXMuZGVidWcpOwoKICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIHIgPSB0LnNlbnQsIHAubG9nKCJkb3duc2NhbGVJbWFnZUZyb21VcmwiLCB7CiAgICAgICAgICAgICAgICAgICAgZGF0YVVybDogZSwKICAgICAgICAgICAgICAgICAgICBkYXRhVXJsQ29tcHJlc3NlZDogcgogICAgICAgICAgICAgICAgICB9KSwgdC5hYnJ1cHQoInJldHVybiIsIHIpOwoKICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiB0LnN0b3AoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIHQsIHRoaXMpOwogICAgICAgIH0pKSwgZnVuY3Rpb24gKHQpIHsKICAgICAgICAgIHJldHVybiBlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfSkKICAgICAgfSwgewogICAgICAgIGtleTogImluc2VydFRvRWRpdG9yIiwKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUodCkgewogICAgICAgICAgcC5sb2coImluc2VydFRvRWRpdG9yIiwgewogICAgICAgICAgICB1cmw6IHQKICAgICAgICAgIH0pLCB0aGlzLnJhbmdlID0gdGhpcy5xdWlsbC5nZXRTZWxlY3Rpb24oKTsKICAgICAgICAgIHZhciBlID0gdGhpcy5yYW5nZTsKICAgICAgICAgIHRoaXMubG9nRmlsZVNpemUodCksIHRoaXMucXVpbGwuaW5zZXJ0RW1iZWQoZS5pbmRleCwgImltYWdlIiwgIiIuY29uY2F0KHQpLCAidXNlciIpLCBlLmluZGV4KyssIHRoaXMucXVpbGwuc2V0U2VsZWN0aW9uKGUsICJhcGkiKTsKICAgICAgICB9CiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJsb2dGaWxlU2l6ZSIsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKHQpIHsKICAgICAgICAgIHZhciBlID0gKE1hdGgucm91bmQoMyAqICh0Lmxlbmd0aCAtICJkYXRhOmltYWdlL3BuZztiYXNlNjQsIi5sZW5ndGgpIC8gNCkgLyAxMDI0KS50b0ZpeGVkKDApOwogICAgICAgICAgcC5sb2coImVzdGltYXRlZCBpbWcgc2l6ZTogIiArIGUgKyAiIGtiIik7CiAgICAgICAgfQogICAgICB9XSksIHQ7CiAgICB9KCk7CgogICAgZnVuY3Rpb24geSh0LCBlLCByLCBuLCBpKSB7CiAgICAgIHJldHVybiBiLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgZnVuY3Rpb24gYigpIHsKICAgICAgcmV0dXJuIChiID0gYygpKGEuYS5tYXJrKGZ1bmN0aW9uIHQoZSwgciwgbiwgbywgdSkgewogICAgICAgIHZhciBjLCBzLCBsLCBmLCBoLCBnLCBtOwogICAgICAgIHJldHVybiBhLmEud3JhcChmdW5jdGlvbiAodCkgewogICAgICAgICAgZm9yICg7OykgewogICAgICAgICAgICBzd2l0Y2ggKHQucHJldiA9IHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJldHVybiBvID0gbyB8fCAiaW1hZ2UvanBlZyIsIHUgPSB1IHx8IC43LCAoYyA9IG5ldyBJbWFnZSgpKS5zcmMgPSBlLCB0Lm5leHQgPSA2LCBuZXcgUHJvbWlzZShmdW5jdGlvbiAodCkgewogICAgICAgICAgICAgICAgICBjLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICB0KCk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgcmV0dXJuIHMgPSB3KGMud2lkdGgsIGMuaGVpZ2h0LCByLCBuKSwgbCA9IGkoKShzLCAyKSwgZiA9IGxbMF0sIGggPSBsWzFdLCAoZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpKS53aWR0aCA9IGYsIGcuaGVpZ2h0ID0gaCwgZy5nZXRDb250ZXh0KCIyZCIpLmRyYXdJbWFnZShjLCAwLCAwLCBmLCBoKSwgbSA9IGcudG9EYXRhVVJMKG8sIHUpLCBwLmxvZygiZG93bnNjYWxpbmcgaW1hZ2UuLi4iLCB7CiAgICAgICAgICAgICAgICAgIGFyZ3M6IHsKICAgICAgICAgICAgICAgICAgICBkYXRhVXJsOiBlLAogICAgICAgICAgICAgICAgICAgIG1heFdpZHRoOiByLAogICAgICAgICAgICAgICAgICAgIG1heEhlaWdodDogbiwKICAgICAgICAgICAgICAgICAgICBpbWFnZVR5cGU6IG8sCiAgICAgICAgICAgICAgICAgICAgaW1hZ2VRdWFsaXR5OiB1LAogICAgICAgICAgICAgICAgICAgIGRlYnVnOiBkCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIG5ld0hlaWdodDogaCwKICAgICAgICAgICAgICAgICAgbmV3V2lkdGg6IGYKICAgICAgICAgICAgICAgIH0pLCB0LmFicnVwdCgicmV0dXJuIiwgbSk7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiB0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIHQpOwogICAgICB9KSkpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CgogICAgZnVuY3Rpb24gdyh0LCBlLCByLCBuKSB7CiAgICAgIGlmICh0IDw9IHIgJiYgZSA8PSBuKSByZXR1cm4gW3QsIGVdOwoKICAgICAgaWYgKHQgPiByKSB7CiAgICAgICAgdmFyIGkgPSByLAogICAgICAgICAgICBvID0gTWF0aC5mbG9vcihlIC8gdCAqIGkpOwoKICAgICAgICBpZiAobyA+IG4pIHsKICAgICAgICAgIHZhciBhID0gbjsKICAgICAgICAgIHJldHVybiBbTWF0aC5mbG9vcih0IC8gZSAqIGEpLCBhXTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBbaSwgb107CiAgICAgIH0KCiAgICAgIGlmIChlID4gbikgewogICAgICAgIHZhciB1ID0gbjsKICAgICAgICByZXR1cm4gW01hdGguZmxvb3IodCAvIGUgKiB1KSwgdV07CiAgICAgIH0KICAgIH0KCiAgICB3aW5kb3cuaW1hZ2VDb21wcmVzc29yID0gdiwgZS5kZWZhdWx0ID0gdjsKICB9LCBmdW5jdGlvbiAodCwgZSkgewogICAgdC5leHBvcnRzID0gZnVuY3Rpb24gKHQpIHsKICAgICAgaWYgKEFycmF5LmlzQXJyYXkodCkpIHJldHVybiB0OwogICAgfTsKICB9LCBmdW5jdGlvbiAodCwgZSkgewogICAgdC5leHBvcnRzID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgaWYgKCJ1bmRlZmluZWQiICE9IHR5cGVvZiBTeW1ib2wgJiYgU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdCh0KSkgewogICAgICAgIHZhciByID0gW10sCiAgICAgICAgICAgIG4gPSAhMCwKICAgICAgICAgICAgaSA9ICExLAogICAgICAgICAgICBvID0gdm9pZCAwOwoKICAgICAgICB0cnkgewogICAgICAgICAgZm9yICh2YXIgYSwgdSA9IHRbU3ltYm9sLml0ZXJhdG9yXSgpOyAhKG4gPSAoYSA9IHUubmV4dCgpKS5kb25lKSAmJiAoci5wdXNoKGEudmFsdWUpLCAhZSB8fCByLmxlbmd0aCAhPT0gZSk7IG4gPSAhMCkgewogICAgICAgICAgICA7CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAodCkgewogICAgICAgICAgaSA9ICEwLCBvID0gdDsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgbiB8fCBudWxsID09IHUucmV0dXJuIHx8IHUucmV0dXJuKCk7CiAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICBpZiAoaSkgdGhyb3cgbzsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiByOwogICAgICB9CiAgICB9OwogIH0sIGZ1bmN0aW9uICh0LCBlLCByKSB7CiAgICB2YXIgbiA9IHIoMTApOwoKICAgIHQuZXhwb3J0cyA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICAgIGlmICh0KSB7CiAgICAgICAgaWYgKCJzdHJpbmciID09IHR5cGVvZiB0KSByZXR1cm4gbih0LCBlKTsKICAgICAgICB2YXIgciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KS5zbGljZSg4LCAtMSk7CiAgICAgICAgcmV0dXJuICJPYmplY3QiID09PSByICYmIHQuY29uc3RydWN0b3IgJiYgKHIgPSB0LmNvbnN0cnVjdG9yLm5hbWUpLCAiTWFwIiA9PT0gciB8fCAiU2V0IiA9PT0gciA/IEFycmF5LmZyb20odCkgOiAiQXJndW1lbnRzIiA9PT0gciB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChyKSA/IG4odCwgZSkgOiB2b2lkIDA7CiAgICAgIH0KICAgIH07CiAgfSwgZnVuY3Rpb24gKHQsIGUpIHsKICAgIHQuZXhwb3J0cyA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICAgIChudWxsID09IGUgfHwgZSA+IHQubGVuZ3RoKSAmJiAoZSA9IHQubGVuZ3RoKTsKCiAgICAgIGZvciAodmFyIHIgPSAwLCBuID0gbmV3IEFycmF5KGUpOyByIDwgZTsgcisrKSB7CiAgICAgICAgbltyXSA9IHRbcl07CiAgICAgIH0KCiAgICAgIHJldHVybiBuOwogICAgfTsKICB9LCBmdW5jdGlvbiAodCwgZSkgewogICAgdC5leHBvcnRzID0gZnVuY3Rpb24gKCkgewogICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOwogICAgfTsKICB9LCBmdW5jdGlvbiAodCwgZSwgcikgewogICAgdmFyIG4gPSBmdW5jdGlvbiAodCkgewogICAgICAidXNlIHN0cmljdCI7CgogICAgICB2YXIgZSA9IE9iamVjdC5wcm90b3R5cGUsCiAgICAgICAgICByID0gZS5oYXNPd25Qcm9wZXJ0eSwKICAgICAgICAgIG4gPSAiZnVuY3Rpb24iID09IHR5cGVvZiBTeW1ib2wgPyBTeW1ib2wgOiB7fSwKICAgICAgICAgIGkgPSBuLml0ZXJhdG9yIHx8ICJAQGl0ZXJhdG9yIiwKICAgICAgICAgIG8gPSBuLmFzeW5jSXRlcmF0b3IgfHwgIkBAYXN5bmNJdGVyYXRvciIsCiAgICAgICAgICBhID0gbi50b1N0cmluZ1RhZyB8fCAiQEB0b1N0cmluZ1RhZyI7CgogICAgICBmdW5jdGlvbiB1KHQsIGUsIHIpIHsKICAgICAgICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIGUsIHsKICAgICAgICAgIHZhbHVlOiByLAogICAgICAgICAgZW51bWVyYWJsZTogITAsCiAgICAgICAgICBjb25maWd1cmFibGU6ICEwLAogICAgICAgICAgd3JpdGFibGU6ICEwCiAgICAgICAgfSksIHRbZV07CiAgICAgIH0KCiAgICAgIHRyeSB7CiAgICAgICAgdSh7fSwgIiIpOwogICAgICB9IGNhdGNoICh0KSB7CiAgICAgICAgdSA9IGZ1bmN0aW9uIHUodCwgZSwgcikgewogICAgICAgICAgcmV0dXJuIHRbZV0gPSByOwogICAgICAgIH07CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGModCwgZSwgciwgbikgewogICAgICAgIHZhciBpID0gZSAmJiBlLnByb3RvdHlwZSBpbnN0YW5jZW9mIGYgPyBlIDogZiwKICAgICAgICAgICAgbyA9IE9iamVjdC5jcmVhdGUoaS5wcm90b3R5cGUpLAogICAgICAgICAgICBhID0gbmV3IEwobiB8fCBbXSk7CiAgICAgICAgcmV0dXJuIG8uX2ludm9rZSA9IGZ1bmN0aW9uICh0LCBlLCByKSB7CiAgICAgICAgICB2YXIgbiA9ICJzdXNwZW5kZWRTdGFydCI7CiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGksIG8pIHsKICAgICAgICAgICAgaWYgKCJleGVjdXRpbmciID09PSBuKSB0aHJvdyBuZXcgRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmciKTsKCiAgICAgICAgICAgIGlmICgiY29tcGxldGVkIiA9PT0gbikgewogICAgICAgICAgICAgIGlmICgidGhyb3ciID09PSBpKSB0aHJvdyBvOwogICAgICAgICAgICAgIHJldHVybiBrKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZvciAoci5tZXRob2QgPSBpLCByLmFyZyA9IG87OykgewogICAgICAgICAgICAgIHZhciBhID0gci5kZWxlZ2F0ZTsKCiAgICAgICAgICAgICAgaWYgKGEpIHsKICAgICAgICAgICAgICAgIHZhciB1ID0gdyhhLCByKTsKCiAgICAgICAgICAgICAgICBpZiAodSkgewogICAgICAgICAgICAgICAgICBpZiAodSA9PT0gbCkgY29udGludWU7CiAgICAgICAgICAgICAgICAgIHJldHVybiB1OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKCJuZXh0IiA9PT0gci5tZXRob2QpIHIuc2VudCA9IHIuX3NlbnQgPSByLmFyZztlbHNlIGlmICgidGhyb3ciID09PSByLm1ldGhvZCkgewogICAgICAgICAgICAgICAgaWYgKCJzdXNwZW5kZWRTdGFydCIgPT09IG4pIHRocm93IG4gPSAiY29tcGxldGVkIiwgci5hcmc7CiAgICAgICAgICAgICAgICByLmRpc3BhdGNoRXhjZXB0aW9uKHIuYXJnKTsKICAgICAgICAgICAgICB9IGVsc2UgInJldHVybiIgPT09IHIubWV0aG9kICYmIHIuYWJydXB0KCJyZXR1cm4iLCByLmFyZyk7CiAgICAgICAgICAgICAgbiA9ICJleGVjdXRpbmciOwogICAgICAgICAgICAgIHZhciBjID0gcyh0LCBlLCByKTsKCiAgICAgICAgICAgICAgaWYgKCJub3JtYWwiID09PSBjLnR5cGUpIHsKICAgICAgICAgICAgICAgIGlmIChuID0gci5kb25lID8gImNvbXBsZXRlZCIgOiAic3VzcGVuZGVkWWllbGQiLCBjLmFyZyA9PT0gbCkgY29udGludWU7CiAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICB2YWx1ZTogYy5hcmcsCiAgICAgICAgICAgICAgICAgIGRvbmU6IHIuZG9uZQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICJ0aHJvdyIgPT09IGMudHlwZSAmJiAobiA9ICJjb21wbGV0ZWQiLCByLm1ldGhvZCA9ICJ0aHJvdyIsIHIuYXJnID0gYy5hcmcpOwogICAgICAgICAgICB9CiAgICAgICAgICB9OwogICAgICAgIH0odCwgciwgYSksIG87CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHModCwgZSwgcikgewogICAgICAgIHRyeSB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICB0eXBlOiAibm9ybWFsIiwKICAgICAgICAgICAgYXJnOiB0LmNhbGwoZSwgcikKICAgICAgICAgIH07CiAgICAgICAgfSBjYXRjaCAodCkgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgdHlwZTogInRocm93IiwKICAgICAgICAgICAgYXJnOiB0CiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgfQoKICAgICAgdC53cmFwID0gYzsKICAgICAgdmFyIGwgPSB7fTsKCiAgICAgIGZ1bmN0aW9uIGYoKSB7fQoKICAgICAgZnVuY3Rpb24gaCgpIHt9CgogICAgICBmdW5jdGlvbiBkKCkge30KCiAgICAgIHZhciBwID0ge307CgogICAgICBwW2ldID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aGlzOwogICAgICB9OwoKICAgICAgdmFyIGcgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YsCiAgICAgICAgICBtID0gZyAmJiBnKGcoaihbXSkpKTsKICAgICAgbSAmJiBtICE9PSBlICYmIHIuY2FsbChtLCBpKSAmJiAocCA9IG0pOwogICAgICB2YXIgdiA9IGQucHJvdG90eXBlID0gZi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHApOwoKICAgICAgZnVuY3Rpb24geSh0KSB7CiAgICAgICAgWyJuZXh0IiwgInRocm93IiwgInJldHVybiJdLmZvckVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHUodCwgZSwgZnVuY3Rpb24gKHQpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ludm9rZShlLCB0KTsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9CgogICAgICBmdW5jdGlvbiBiKHQsIGUpIHsKICAgICAgICB2YXIgbjsKCiAgICAgICAgdGhpcy5faW52b2tlID0gZnVuY3Rpb24gKGksIG8pIHsKICAgICAgICAgIGZ1bmN0aW9uIGEoKSB7CiAgICAgICAgICAgIHJldHVybiBuZXcgZShmdW5jdGlvbiAobiwgYSkgewogICAgICAgICAgICAgICFmdW5jdGlvbiBuKGksIG8sIGEsIHUpIHsKICAgICAgICAgICAgICAgIHZhciBjID0gcyh0W2ldLCB0LCBvKTsKCiAgICAgICAgICAgICAgICBpZiAoInRocm93IiAhPT0gYy50eXBlKSB7CiAgICAgICAgICAgICAgICAgIHZhciBsID0gYy5hcmcsCiAgICAgICAgICAgICAgICAgICAgICBmID0gbC52YWx1ZTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGYgJiYgIm9iamVjdCIgPT0gX3R5cGVvZihmKSAmJiByLmNhbGwoZiwgIl9fYXdhaXQiKSA/IGUucmVzb2x2ZShmLl9fYXdhaXQpLnRoZW4oZnVuY3Rpb24gKHQpIHsKICAgICAgICAgICAgICAgICAgICBuKCJuZXh0IiwgdCwgYSwgdSk7CiAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICAgICAgICAgICAgbigidGhyb3ciLCB0LCBhLCB1KTsKICAgICAgICAgICAgICAgICAgfSkgOiBlLnJlc29sdmUoZikudGhlbihmdW5jdGlvbiAodCkgewogICAgICAgICAgICAgICAgICAgIGwudmFsdWUgPSB0LCBhKGwpOwogICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAodCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBuKCJ0aHJvdyIsIHQsIGEsIHUpOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB1KGMuYXJnKTsKICAgICAgICAgICAgICB9KGksIG8sIG4sIGEpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gbiA9IG4gPyBuLnRoZW4oYSwgYSkgOiBhKCk7CiAgICAgICAgfTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gdyh0LCBlKSB7CiAgICAgICAgdmFyIHIgPSB0Lml0ZXJhdG9yW2UubWV0aG9kXTsKCiAgICAgICAgaWYgKHZvaWQgMCA9PT0gcikgewogICAgICAgICAgaWYgKGUuZGVsZWdhdGUgPSBudWxsLCAidGhyb3ciID09PSBlLm1ldGhvZCkgewogICAgICAgICAgICBpZiAodC5pdGVyYXRvci5yZXR1cm4gJiYgKGUubWV0aG9kID0gInJldHVybiIsIGUuYXJnID0gdm9pZCAwLCB3KHQsIGUpLCAidGhyb3ciID09PSBlLm1ldGhvZCkpIHJldHVybiBsOwogICAgICAgICAgICBlLm1ldGhvZCA9ICJ0aHJvdyIsIGUuYXJnID0gbmV3IFR5cGVFcnJvcigiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAndGhyb3cnIG1ldGhvZCIpOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBsOwogICAgICAgIH0KCiAgICAgICAgdmFyIG4gPSBzKHIsIHQuaXRlcmF0b3IsIGUuYXJnKTsKICAgICAgICBpZiAoInRocm93IiA9PT0gbi50eXBlKSByZXR1cm4gZS5tZXRob2QgPSAidGhyb3ciLCBlLmFyZyA9IG4uYXJnLCBlLmRlbGVnYXRlID0gbnVsbCwgbDsKICAgICAgICB2YXIgaSA9IG4uYXJnOwogICAgICAgIHJldHVybiBpID8gaS5kb25lID8gKGVbdC5yZXN1bHROYW1lXSA9IGkudmFsdWUsIGUubmV4dCA9IHQubmV4dExvYywgInJldHVybiIgIT09IGUubWV0aG9kICYmIChlLm1ldGhvZCA9ICJuZXh0IiwgZS5hcmcgPSB2b2lkIDApLCBlLmRlbGVnYXRlID0gbnVsbCwgbCkgOiBpIDogKGUubWV0aG9kID0gInRocm93IiwgZS5hcmcgPSBuZXcgVHlwZUVycm9yKCJpdGVyYXRvciByZXN1bHQgaXMgbm90IGFuIG9iamVjdCIpLCBlLmRlbGVnYXRlID0gbnVsbCwgbCk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHgodCkgewogICAgICAgIHZhciBlID0gewogICAgICAgICAgdHJ5TG9jOiB0WzBdCiAgICAgICAgfTsKICAgICAgICAxIGluIHQgJiYgKGUuY2F0Y2hMb2MgPSB0WzFdKSwgMiBpbiB0ICYmIChlLmZpbmFsbHlMb2MgPSB0WzJdLCBlLmFmdGVyTG9jID0gdFszXSksIHRoaXMudHJ5RW50cmllcy5wdXNoKGUpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBFKHQpIHsKICAgICAgICB2YXIgZSA9IHQuY29tcGxldGlvbiB8fCB7fTsKICAgICAgICBlLnR5cGUgPSAibm9ybWFsIiwgZGVsZXRlIGUuYXJnLCB0LmNvbXBsZXRpb24gPSBlOwogICAgICB9CgogICAgICBmdW5jdGlvbiBMKHQpIHsKICAgICAgICB0aGlzLnRyeUVudHJpZXMgPSBbewogICAgICAgICAgdHJ5TG9jOiAicm9vdCIKICAgICAgICB9XSwgdC5mb3JFYWNoKHgsIHRoaXMpLCB0aGlzLnJlc2V0KCEwKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gaih0KSB7CiAgICAgICAgaWYgKHQpIHsKICAgICAgICAgIHZhciBlID0gdFtpXTsKICAgICAgICAgIGlmIChlKSByZXR1cm4gZS5jYWxsKHQpOwogICAgICAgICAgaWYgKCJmdW5jdGlvbiIgPT0gdHlwZW9mIHQubmV4dCkgcmV0dXJuIHQ7CgogICAgICAgICAgaWYgKCFpc05hTih0Lmxlbmd0aCkpIHsKICAgICAgICAgICAgdmFyIG4gPSAtMSwKICAgICAgICAgICAgICAgIG8gPSBmdW5jdGlvbiBlKCkgewogICAgICAgICAgICAgIGZvciAoOyArK24gPCB0Lmxlbmd0aDspIHsKICAgICAgICAgICAgICAgIGlmIChyLmNhbGwodCwgbikpIHJldHVybiBlLnZhbHVlID0gdFtuXSwgZS5kb25lID0gITEsIGU7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gZS52YWx1ZSA9IHZvaWQgMCwgZS5kb25lID0gITAsIGU7CiAgICAgICAgICAgIH07CgogICAgICAgICAgICByZXR1cm4gby5uZXh0ID0gbzsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiB7CiAgICAgICAgICBuZXh0OiBrCiAgICAgICAgfTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gaygpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgdmFsdWU6IHZvaWQgMCwKICAgICAgICAgIGRvbmU6ICEwCiAgICAgICAgfTsKICAgICAgfQoKICAgICAgcmV0dXJuIGgucHJvdG90eXBlID0gdi5jb25zdHJ1Y3RvciA9IGQsIGQuY29uc3RydWN0b3IgPSBoLCBoLmRpc3BsYXlOYW1lID0gdShkLCBhLCAiR2VuZXJhdG9yRnVuY3Rpb24iKSwgdC5pc0dlbmVyYXRvckZ1bmN0aW9uID0gZnVuY3Rpb24gKHQpIHsKICAgICAgICB2YXIgZSA9ICJmdW5jdGlvbiIgPT0gdHlwZW9mIHQgJiYgdC5jb25zdHJ1Y3RvcjsKICAgICAgICByZXR1cm4gISFlICYmIChlID09PSBoIHx8ICJHZW5lcmF0b3JGdW5jdGlvbiIgPT09IChlLmRpc3BsYXlOYW1lIHx8IGUubmFtZSkpOwogICAgICB9LCB0Lm1hcmsgPSBmdW5jdGlvbiAodCkgewogICAgICAgIHJldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YodCwgZCkgOiAodC5fX3Byb3RvX18gPSBkLCB1KHQsIGEsICJHZW5lcmF0b3JGdW5jdGlvbiIpKSwgdC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHYpLCB0OwogICAgICB9LCB0LmF3cmFwID0gZnVuY3Rpb24gKHQpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgX19hd2FpdDogdAogICAgICAgIH07CiAgICAgIH0sIHkoYi5wcm90b3R5cGUpLCBiLnByb3RvdHlwZVtvXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfSwgdC5Bc3luY0l0ZXJhdG9yID0gYiwgdC5hc3luYyA9IGZ1bmN0aW9uIChlLCByLCBuLCBpLCBvKSB7CiAgICAgICAgdm9pZCAwID09PSBvICYmIChvID0gUHJvbWlzZSk7CiAgICAgICAgdmFyIGEgPSBuZXcgYihjKGUsIHIsIG4sIGkpLCBvKTsKICAgICAgICByZXR1cm4gdC5pc0dlbmVyYXRvckZ1bmN0aW9uKHIpID8gYSA6IGEubmV4dCgpLnRoZW4oZnVuY3Rpb24gKHQpIHsKICAgICAgICAgIHJldHVybiB0LmRvbmUgPyB0LnZhbHVlIDogYS5uZXh0KCk7CiAgICAgICAgfSk7CiAgICAgIH0sIHkodiksIHUodiwgYSwgIkdlbmVyYXRvciIpLCB2W2ldID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aGlzOwogICAgICB9LCB2LnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiAiW29iamVjdCBHZW5lcmF0b3JdIjsKICAgICAgfSwgdC5rZXlzID0gZnVuY3Rpb24gKHQpIHsKICAgICAgICB2YXIgZSA9IFtdOwoKICAgICAgICBmb3IgKHZhciByIGluIHQpIHsKICAgICAgICAgIGUucHVzaChyKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBlLnJldmVyc2UoKSwgZnVuY3Rpb24gcigpIHsKICAgICAgICAgIGZvciAoOyBlLmxlbmd0aDspIHsKICAgICAgICAgICAgdmFyIG4gPSBlLnBvcCgpOwogICAgICAgICAgICBpZiAobiBpbiB0KSByZXR1cm4gci52YWx1ZSA9IG4sIHIuZG9uZSA9ICExLCByOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiByLmRvbmUgPSAhMCwgcjsKICAgICAgICB9OwogICAgICB9LCB0LnZhbHVlcyA9IGosIEwucHJvdG90eXBlID0gewogICAgICAgIGNvbnN0cnVjdG9yOiBMLAogICAgICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldCh0KSB7CiAgICAgICAgICBpZiAodGhpcy5wcmV2ID0gMCwgdGhpcy5uZXh0ID0gMCwgdGhpcy5zZW50ID0gdGhpcy5fc2VudCA9IHZvaWQgMCwgdGhpcy5kb25lID0gITEsIHRoaXMuZGVsZWdhdGUgPSBudWxsLCB0aGlzLm1ldGhvZCA9ICJuZXh0IiwgdGhpcy5hcmcgPSB2b2lkIDAsIHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKEUpLCAhdCkgZm9yICh2YXIgZSBpbiB0aGlzKSB7CiAgICAgICAgICAgICJ0IiA9PT0gZS5jaGFyQXQoMCkgJiYgci5jYWxsKHRoaXMsIGUpICYmICFpc05hTigrZS5zbGljZSgxKSkgJiYgKHRoaXNbZV0gPSB2b2lkIDApOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgc3RvcDogZnVuY3Rpb24gc3RvcCgpIHsKICAgICAgICAgIHRoaXMuZG9uZSA9ICEwOwogICAgICAgICAgdmFyIHQgPSB0aGlzLnRyeUVudHJpZXNbMF0uY29tcGxldGlvbjsKICAgICAgICAgIGlmICgidGhyb3ciID09PSB0LnR5cGUpIHRocm93IHQuYXJnOwogICAgICAgICAgcmV0dXJuIHRoaXMucnZhbDsKICAgICAgICB9LAogICAgICAgIGRpc3BhdGNoRXhjZXB0aW9uOiBmdW5jdGlvbiBkaXNwYXRjaEV4Y2VwdGlvbih0KSB7CiAgICAgICAgICBpZiAodGhpcy5kb25lKSB0aHJvdyB0OwogICAgICAgICAgdmFyIGUgPSB0aGlzOwoKICAgICAgICAgIGZ1bmN0aW9uIG4ociwgbikgewogICAgICAgICAgICByZXR1cm4gYS50eXBlID0gInRocm93IiwgYS5hcmcgPSB0LCBlLm5leHQgPSByLCBuICYmIChlLm1ldGhvZCA9ICJuZXh0IiwgZS5hcmcgPSB2b2lkIDApLCAhIW47CiAgICAgICAgICB9CgogICAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkgewogICAgICAgICAgICB2YXIgbyA9IHRoaXMudHJ5RW50cmllc1tpXSwKICAgICAgICAgICAgICAgIGEgPSBvLmNvbXBsZXRpb247CiAgICAgICAgICAgIGlmICgicm9vdCIgPT09IG8udHJ5TG9jKSByZXR1cm4gbigiZW5kIik7CgogICAgICAgICAgICBpZiAoby50cnlMb2MgPD0gdGhpcy5wcmV2KSB7CiAgICAgICAgICAgICAgdmFyIHUgPSByLmNhbGwobywgImNhdGNoTG9jIiksCiAgICAgICAgICAgICAgICAgIGMgPSByLmNhbGwobywgImZpbmFsbHlMb2MiKTsKCiAgICAgICAgICAgICAgaWYgKHUgJiYgYykgewogICAgICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IG8uY2F0Y2hMb2MpIHJldHVybiBuKG8uY2F0Y2hMb2MsICEwKTsKICAgICAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBvLmZpbmFsbHlMb2MpIHJldHVybiBuKG8uZmluYWxseUxvYyk7CiAgICAgICAgICAgICAgfSBlbHNlIGlmICh1KSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgby5jYXRjaExvYykgcmV0dXJuIG4oby5jYXRjaExvYywgITApOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBpZiAoIWMpIHRocm93IG5ldyBFcnJvcigidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHkiKTsKICAgICAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBvLmZpbmFsbHlMb2MpIHJldHVybiBuKG8uZmluYWxseUxvYyk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBhYnJ1cHQ6IGZ1bmN0aW9uIGFicnVwdCh0LCBlKSB7CiAgICAgICAgICBmb3IgKHZhciBuID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IG4gPj0gMDsgLS1uKSB7CiAgICAgICAgICAgIHZhciBpID0gdGhpcy50cnlFbnRyaWVzW25dOwoKICAgICAgICAgICAgaWYgKGkudHJ5TG9jIDw9IHRoaXMucHJldiAmJiByLmNhbGwoaSwgImZpbmFsbHlMb2MiKSAmJiB0aGlzLnByZXYgPCBpLmZpbmFsbHlMb2MpIHsKICAgICAgICAgICAgICB2YXIgbyA9IGk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBvICYmICgiYnJlYWsiID09PSB0IHx8ICJjb250aW51ZSIgPT09IHQpICYmIG8udHJ5TG9jIDw9IGUgJiYgZSA8PSBvLmZpbmFsbHlMb2MgJiYgKG8gPSBudWxsKTsKICAgICAgICAgIHZhciBhID0gbyA/IG8uY29tcGxldGlvbiA6IHt9OwogICAgICAgICAgcmV0dXJuIGEudHlwZSA9IHQsIGEuYXJnID0gZSwgbyA/ICh0aGlzLm1ldGhvZCA9ICJuZXh0IiwgdGhpcy5uZXh0ID0gby5maW5hbGx5TG9jLCBsKSA6IHRoaXMuY29tcGxldGUoYSk7CiAgICAgICAgfSwKICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gY29tcGxldGUodCwgZSkgewogICAgICAgICAgaWYgKCJ0aHJvdyIgPT09IHQudHlwZSkgdGhyb3cgdC5hcmc7CiAgICAgICAgICByZXR1cm4gImJyZWFrIiA9PT0gdC50eXBlIHx8ICJjb250aW51ZSIgPT09IHQudHlwZSA/IHRoaXMubmV4dCA9IHQuYXJnIDogInJldHVybiIgPT09IHQudHlwZSA/ICh0aGlzLnJ2YWwgPSB0aGlzLmFyZyA9IHQuYXJnLCB0aGlzLm1ldGhvZCA9ICJyZXR1cm4iLCB0aGlzLm5leHQgPSAiZW5kIikgOiAibm9ybWFsIiA9PT0gdC50eXBlICYmIGUgJiYgKHRoaXMubmV4dCA9IGUpLCBsOwogICAgICAgIH0sCiAgICAgICAgZmluaXNoOiBmdW5jdGlvbiBmaW5pc2godCkgewogICAgICAgICAgZm9yICh2YXIgZSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBlID49IDA7IC0tZSkgewogICAgICAgICAgICB2YXIgciA9IHRoaXMudHJ5RW50cmllc1tlXTsKICAgICAgICAgICAgaWYgKHIuZmluYWxseUxvYyA9PT0gdCkgcmV0dXJuIHRoaXMuY29tcGxldGUoci5jb21wbGV0aW9uLCByLmFmdGVyTG9jKSwgRShyKSwgbDsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGNhdGNoOiBmdW5jdGlvbiBfY2F0Y2godCkgewogICAgICAgICAgZm9yICh2YXIgZSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBlID49IDA7IC0tZSkgewogICAgICAgICAgICB2YXIgciA9IHRoaXMudHJ5RW50cmllc1tlXTsKCiAgICAgICAgICAgIGlmIChyLnRyeUxvYyA9PT0gdCkgewogICAgICAgICAgICAgIHZhciBuID0gci5jb21wbGV0aW9uOwoKICAgICAgICAgICAgICBpZiAoInRocm93IiA9PT0gbi50eXBlKSB7CiAgICAgICAgICAgICAgICB2YXIgaSA9IG4uYXJnOwogICAgICAgICAgICAgICAgRShyKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiBpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHQiKTsKICAgICAgICB9LAogICAgICAgIGRlbGVnYXRlWWllbGQ6IGZ1bmN0aW9uIGRlbGVnYXRlWWllbGQodCwgZSwgcikgewogICAgICAgICAgcmV0dXJuIHRoaXMuZGVsZWdhdGUgPSB7CiAgICAgICAgICAgIGl0ZXJhdG9yOiBqKHQpLAogICAgICAgICAgICByZXN1bHROYW1lOiBlLAogICAgICAgICAgICBuZXh0TG9jOiByCiAgICAgICAgICB9LCAibmV4dCIgPT09IHRoaXMubWV0aG9kICYmICh0aGlzLmFyZyA9IHZvaWQgMCksIGw7CiAgICAgICAgfQogICAgICB9LCB0OwogICAgfSh0LmV4cG9ydHMpOwoKICAgIHRyeSB7CiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZSA9IG47CiAgICB9IGNhdGNoICh0KSB7CiAgICAgIEZ1bmN0aW9uKCJyIiwgInJlZ2VuZXJhdG9yUnVudGltZSA9IHIiKShuKTsKICAgIH0KICB9LCBmdW5jdGlvbiAodCwgZSwgcikgewogICAgInVzZSBzdHJpY3QiOwoKICAgIHIucihlKSwgci5kKGUsICJJbWFnZURyb3AiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBoOwogICAgfSk7CgogICAgdmFyIG4gPSByKDApLAogICAgICAgIGkgPSByLm4obiksCiAgICAgICAgbyA9IHIoMSksCiAgICAgICAgYSA9IHIubihvKSwKICAgICAgICB1ID0gcigyKSwKICAgICAgICBjID0gci5uKHUpLAogICAgICAgIHMgPSByKDMpLAogICAgICAgIGwgPSByLm4ocyksCiAgICAgICAgZiA9IHIoNCkuZmlsZTJiNjQsCiAgICAgICAgaCA9IGZ1bmN0aW9uICgpIHsKICAgICAgZnVuY3Rpb24gdChlLCByLCBuKSB7CiAgICAgICAgdmFyIGkgPSB0aGlzOwogICAgICAgIGMoKSh0aGlzLCB0KSwgdGhpcy5sb2dnZXIgPSBuLCB0aGlzLnF1aWxsID0gZSwgdGhpcy5vbk5ld0RhdGFVcmwgPSByLCB0aGlzLnF1aWxsLnJvb3QuYWRkRXZlbnRMaXN0ZW5lcigiZHJvcCIsIGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICByZXR1cm4gaS5oYW5kbGVEcm9wKHQpOwogICAgICAgIH0sICExKSwgdGhpcy5xdWlsbC5yb290LmFkZEV2ZW50TGlzdGVuZXIoInBhc3RlIiwgZnVuY3Rpb24gKHQpIHsKICAgICAgICAgIHJldHVybiBpLmhhbmRsZVBhc3RlKHQpOwogICAgICAgIH0sICExKTsKICAgICAgfQoKICAgICAgdmFyIGU7CiAgICAgIHJldHVybiBsKCkodCwgW3sKICAgICAgICBrZXk6ICJoYW5kbGVOZXdJbWFnZUZpbGVzIiwKICAgICAgICB2YWx1ZTogKGUgPSBhKCkoaS5hLm1hcmsoZnVuY3Rpb24gdChlKSB7CiAgICAgICAgICB2YXIgciwgbiwgbzsKICAgICAgICAgIHJldHVybiBpLmEud3JhcChmdW5jdGlvbiAodCkgewogICAgICAgICAgICBmb3IgKDs7KSB7CiAgICAgICAgICAgICAgc3dpdGNoICh0LnByZXYgPSB0Lm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZSkpIHsKICAgICAgICAgICAgICAgICAgICB0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICByZXR1cm4gdC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgaWYgKHIgPSBlLnBvcCgpKSB7CiAgICAgICAgICAgICAgICAgICAgdC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgcmV0dXJuIHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgIHJldHVybiBuID0gci5nZXRBc0ZpbGUgPyByLmdldEFzRmlsZSgpIDogciwgdC5uZXh0ID0gOCwgZihuKTsKCiAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgIG8gPSB0LnNlbnQsIHRoaXMubG9nZ2VyLmxvZygiaGFuZGxlUGFzdGUiLCB7CiAgICAgICAgICAgICAgICAgICAgYmFzZTY0SW1hZ2VTcmM6IG8KICAgICAgICAgICAgICAgICAgfSksIHRoaXMub25OZXdEYXRhVXJsKG8pOwoKICAgICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICByZXR1cm4gdC5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCB0LCB0aGlzKTsKICAgICAgICB9KSksIGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICByZXR1cm4gZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH0pCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICJoYW5kbGVEcm9wIiwKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUodCkgewogICAgICAgICAgdC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgdmFyIGUgPSB0LmRhdGFUcmFuc2ZlciAmJiB0LmRhdGFUcmFuc2Zlci5maWxlcyAmJiB0LmRhdGFUcmFuc2Zlci5maWxlcy5sZW5ndGg7CgogICAgICAgICAgaWYgKHRoaXMubG9nZ2VyLmxvZygiaGFuZGxlRHJvcCIsIHsKICAgICAgICAgICAgaGFzRmlsZXM6IGUKICAgICAgICAgIH0pLCBlKSB7CiAgICAgICAgICAgIGlmIChkb2N1bWVudC5jYXJldFJhbmdlRnJvbVBvaW50KSB7CiAgICAgICAgICAgICAgdmFyIHIgPSBkb2N1bWVudC5nZXRTZWxlY3Rpb24oKSwKICAgICAgICAgICAgICAgICAgbiA9IGRvY3VtZW50LmNhcmV0UmFuZ2VGcm9tUG9pbnQodC5jbGllbnRYLCB0LmNsaWVudFkpOwogICAgICAgICAgICAgIHIgJiYgbiAmJiByLnNldEJhc2VBbmRFeHRlbnQobi5zdGFydENvbnRhaW5lciwgbi5zdGFydE9mZnNldCwgbi5zdGFydENvbnRhaW5lciwgbi5zdGFydE9mZnNldCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhciBpID0gdGhpcy5nZXRJbWFnZUZpbGVzKHQuZGF0YVRyYW5zZmVyLmZpbGVzKTsKICAgICAgICAgICAgdGhpcy5oYW5kbGVOZXdJbWFnZUZpbGVzKGkpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgewogICAgICAgIGtleTogImhhbmRsZVBhc3RlIiwKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUodCkgewogICAgICAgICAgdmFyIGUgPSB0LmNsaXBib2FyZERhdGEgJiYgdC5jbGlwYm9hcmREYXRhLml0ZW1zICYmICEhdC5jbGlwYm9hcmREYXRhLml0ZW1zLmxlbmd0aDsKCiAgICAgICAgICBpZiAodGhpcy5sb2dnZXIubG9nKCJoYW5kbGVQYXN0ZSIsIHsKICAgICAgICAgICAgaGFzSXRlbXM6IGUKICAgICAgICAgIH0pLCBlKSB7CiAgICAgICAgICAgIHZhciByID0gdGhpcy5nZXRJbWFnZUZpbGVzKHQuY2xpcGJvYXJkRGF0YS5pdGVtcyk7CiAgICAgICAgICAgIDAgIT09IHIubGVuZ3RoICYmICh0LnByZXZlbnREZWZhdWx0KCksIHRoaXMuaGFuZGxlTmV3SW1hZ2VGaWxlcyhyKSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAga2V5OiAiZ2V0SW1hZ2VGaWxlcyIsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKHQpIHsKICAgICAgICAgIHZhciBlID0gQXJyYXkuZnJvbSh0KTsKICAgICAgICAgIHJldHVybiB0aGlzLmxvZ2dlci5sb2coInJlYWRGaWxlcyIsIHsKICAgICAgICAgICAgZmlsZXM6IGUKICAgICAgICAgIH0pLCBlLmZpbHRlcihmdW5jdGlvbiAodCkgewogICAgICAgICAgICByZXR1cm4gISF0LnR5cGUubWF0Y2goL15pbWFnZVwvKGdpZnxqcGU/Z3xhP3BuZ3xzdmd8d2VicHxibXB8dm5kXC5taWNyb3NvZnRcLmljb24pL2kpOwogICAgICAgICAgfSkgfHwgW107CiAgICAgICAgfQogICAgICB9XSksIHQ7CiAgICB9KCk7CiAgfV0pOwp9KTs="},{"version":3,"sources":["/mnt/c/Users/임태희/Desktop/최종프로젝트/vue/src/assets/compressor.js"],"names":["t","e","exports","module","define","amd","r","n","window","i","l","call","m","c","d","o","Object","defineProperty","enumerable","get","Symbol","toStringTag","value","__esModule","create","bind","default","prototype","hasOwnProperty","p","s","a","u","done","Promise","resolve","then","arguments","apply","TypeError","length","configurable","writable","key","mark","wrap","prev","next","FileReader","addEventListener","result","readAsDataURL","abrupt","stop","v","f","h","prefixString","log","console","error","warn","g","ImageDrop","file2b64","quill","range","options","debug","dataUrl","downscaleImageFromUrl","sent","insertToEditor","imageDrop","maxWidth","maxHeight","concat","quality","imageType","startsWith","getModule","addHandler","selectLocalImage","getSelection","fileHolder","document","createElement","setAttribute","onchange","fileChanged","body","appendChild","click","requestAnimationFrame","removeChild","files","file","y","dataUrlCompressed","url","logFileSize","insertEmbed","index","setSelection","Math","round","toFixed","b","Image","src","onload","w","width","height","getContext","drawImage","toDataURL","args","imageQuality","newHeight","newWidth","floor","imageCompressor","Array","isArray","iterator","push","return","toString","slice","constructor","name","from","test","asyncIterator","L","_invoke","Error","k","method","arg","delegate","_sent","dispatchException","type","getPrototypeOf","j","forEach","__await","resultName","nextLoc","x","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","E","completion","reset","isNaN","displayName","isGeneratorFunction","setPrototypeOf","__proto__","awrap","AsyncIterator","async","keys","reverse","pop","values","charAt","rval","complete","finish","catch","delegateYield","regeneratorRuntime","Function","logger","onNewDataUrl","root","handleDrop","handlePaste","getAsFile","base64ImageSrc","preventDefault","dataTransfer","hasFiles","caretRangeFromPoint","clientX","clientY","setBaseAndExtent","startContainer","startOffset","getImageFiles","handleNewImageFiles","clipboardData","items","hasItems","filter","match"],"mappings":"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","sourcesContent":["!function(t,e){if(\"object\"==typeof exports&&\"object\"==typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var r=e();for(var n in r)(\"object\"==typeof exports?exports:t)[n]=r[n]}}(window,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,\"a\",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p=\"/dist/\",r(r.s=6)}([function(t,e,r){t.exports=r(12)},function(t,e){function r(t,e,r,n,i,o,a){try{var u=t[o](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,i)}t.exports=function(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var a=t.apply(e,n);function u(t){r(a,i,o,u,c,\"next\",t)}function c(t){r(a,i,o,u,c,\"throw\",t)}u(void 0)}))}}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}},function(t,e){function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}},function(t,e,r){\"use strict\";r.r(e),r.d(e,\"file2b64\",(function(){return u}));var n=r(0),i=r.n(n),o=r(1),a=r.n(o);function u(t){return c.apply(this,arguments)}function c(){return(c=a()(i.a.mark((function t(e){var r,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new FileReader,n=new Promise((function(t){r.addEventListener(\"load\",(function(){var e=r.result;t(e)}),!1)})),r.readAsDataURL(e),t.abrupt(\"return\",n);case 4:case\"end\":return t.stop()}}),t)})))).apply(this,arguments)}},function(t,e,r){var n=r(7),i=r(8),o=r(9),a=r(11);t.exports=function(t,e){return n(t)||i(t,e)||o(t,e)||a()}},function(t,e,r){\"use strict\";r.r(e),r.d(e,\"imageCompressor\",(function(){return v}));var n=r(5),i=r.n(n),o=r(0),a=r.n(o),u=r(1),c=r.n(u),s=r(2),l=r.n(s),f=r(3),h=r.n(f);var d=!0,p={prefixString:function(){return\"</> quill-image-compress: \"},get log(){return d?console.log.bind(console,this.prefixString()):function(){}},get error(){return console.error.bind(console,this.prefixString())},get warn(){return console.warn.bind(console,this.prefixString())}},g=r(13).ImageDrop,m=r(4).file2b64,v=function(){function t(e,r){var n=this;l()(this,t),this.quill=e,this.range=null,this.options=r,d=r&&r.debug;var i=function(){var t=c()(a.a.mark((function t(e){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p.log(\"onImageDrop\",{dataUrl:e}),t.next=3,n.downscaleImageFromUrl(e);case 3:r=t.sent,n.insertToEditor(r);case 5:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();this.imageDrop=new g(e,i,p),function(t){t.maxWidth=t.maxWidth||1e3,t.maxHeight=t.maxHeight||1e3,t.maxWidth&&\"number\"!=typeof t.maxWidth&&(p.warn(\"[config error] 'maxWidth' is required to be a \\\"number\\\" (in pixels), \\nrecieved: \".concat(t.maxWidth,\"\\n-> using default 1000\")),t.maxWidth=1e3),t.maxHeight&&\"number\"!=typeof t.maxHeight&&(p.warn(\"[config error] 'maxHeight' is required to be a \\\"number\\\" (in pixels), \\nrecieved: \".concat(t.maxHeight,\"\\n-> using default 1000\")),t.maxHeight=1e3),t.quality&&\"number\"!=typeof t.quality&&(p.warn(\"quill.imageCompressor: [config error] 'quality' is required to be a \\\"number\\\", \\nrecieved: \".concat(t.quality,\"\\n-> using default 0.7\")),t.quality=.7),!t.imageType||\"string\"==typeof t.imageType&&t.imageType.startsWith(\"image/\")||(p.warn('quill.imageCompressor: [config error] \\'imageType\\' is required be in the form of \"image/png\" or \"image/jpeg\" etc ..., \\nrecieved: '.concat(t.imageType,\"\\n-> using default image/jpeg\")),t.imageType=\"image/jpeg\")}(r),p.log(\"fileChanged\",{options:r,quill:e,debug:d});var o=this.quill.getModule(\"toolbar\");o?o.addHandler(\"image\",(function(){return n.selectLocalImage()})):p.error(\"Quill toolbar module not found! need { toolbar: // options } in Quill.modules for image icon to sit in\")}var e,r;return h()(t,[{key:\"selectLocalImage\",value:function(){var t=this;this.range=this.quill.getSelection(),this.fileHolder=document.createElement(\"input\"),this.fileHolder.setAttribute(\"type\",\"file\"),this.fileHolder.setAttribute(\"accept\",\"image/*\"),this.fileHolder.setAttribute(\"style\",\"visibility:hidden\"),this.fileHolder.onchange=function(){return t.fileChanged()},document.body.appendChild(this.fileHolder),this.fileHolder.click(),window.requestAnimationFrame((function(){document.body.removeChild(t.fileHolder)}))}},{key:\"fileChanged\",value:(r=c()(a.a.mark((function t(){var e,r,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.fileHolder.files[0],p.log(\"fileChanged\",{file:e}),e){t.next=4;break}return t.abrupt(\"return\");case 4:return t.next=6,m(e);case 6:return r=t.sent,t.next=9,this.downscaleImageFromUrl(r);case 9:n=t.sent,this.insertToEditor(n);case 11:case\"end\":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:\"downscaleImageFromUrl\",value:(e=c()(a.a.mark((function t(e){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(e,this.options.maxWidth,this.options.maxHeight,this.options.imageType,this.options.quality,this.debug);case 2:return r=t.sent,p.log(\"downscaleImageFromUrl\",{dataUrl:e,dataUrlCompressed:r}),t.abrupt(\"return\",r);case 5:case\"end\":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:\"insertToEditor\",value:function(t){p.log(\"insertToEditor\",{url:t}),this.range=this.quill.getSelection();var e=this.range;this.logFileSize(t),this.quill.insertEmbed(e.index,\"image\",\"\".concat(t),\"user\"),e.index++,this.quill.setSelection(e,\"api\")}},{key:\"logFileSize\",value:function(t){var e=(Math.round(3*(t.length-\"data:image/png;base64,\".length)/4)/1024).toFixed(0);p.log(\"estimated img size: \"+e+\" kb\")}}]),t}();function y(t,e,r,n,i){return b.apply(this,arguments)}function b(){return(b=c()(a.a.mark((function t(e,r,n,o,u){var c,s,l,f,h,g,m;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=o||\"image/jpeg\",u=u||.7,(c=new Image).src=e,t.next=6,new Promise((function(t){c.onload=function(){t()}}));case 6:return s=w(c.width,c.height,r,n),l=i()(s,2),f=l[0],h=l[1],(g=document.createElement(\"canvas\")).width=f,g.height=h,g.getContext(\"2d\").drawImage(c,0,0,f,h),m=g.toDataURL(o,u),p.log(\"downscaling image...\",{args:{dataUrl:e,maxWidth:r,maxHeight:n,imageType:o,imageQuality:u,debug:d},newHeight:h,newWidth:f}),t.abrupt(\"return\",m);case 15:case\"end\":return t.stop()}}),t)})))).apply(this,arguments)}function w(t,e,r,n){if(t<=r&&e<=n)return[t,e];if(t>r){var i=r,o=Math.floor(e/t*i);if(o>n){var a=n;return[Math.floor(t/e*a),a]}return[i,o]}if(e>n){var u=n;return[Math.floor(t/e*u),u]}}window.imageCompressor=v,e.default=v},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}return r}}},function(t,e,r){var n=r(10);t.exports=function(t,e){if(t){if(\"string\"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===r&&t.constructor&&(r=t.constructor.name),\"Map\"===r||\"Set\"===r?Array.from(t):\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}},function(t,e){t.exports=function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}},function(t,e,r){var n=function(t){\"use strict\";var e=Object.prototype,r=e.hasOwnProperty,n=\"function\"==typeof Symbol?Symbol:{},i=n.iterator||\"@@iterator\",o=n.asyncIterator||\"@@asyncIterator\",a=n.toStringTag||\"@@toStringTag\";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},\"\")}catch(t){u=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var i=e&&e.prototype instanceof f?e:f,o=Object.create(i.prototype),a=new L(n||[]);return o._invoke=function(t,e,r){var n=\"suspendedStart\";return function(i,o){if(\"executing\"===n)throw new Error(\"Generator is already running\");if(\"completed\"===n){if(\"throw\"===i)throw o;return k()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if(\"next\"===r.method)r.sent=r._sent=r.arg;else if(\"throw\"===r.method){if(\"suspendedStart\"===n)throw n=\"completed\",r.arg;r.dispatchException(r.arg)}else\"return\"===r.method&&r.abrupt(\"return\",r.arg);n=\"executing\";var c=s(t,e,r);if(\"normal\"===c.type){if(n=r.done?\"completed\":\"suspendedYield\",c.arg===l)continue;return{value:c.arg,done:r.done}}\"throw\"===c.type&&(n=\"completed\",r.method=\"throw\",r.arg=c.arg)}}}(t,r,a),o}function s(t,e,r){try{return{type:\"normal\",arg:t.call(e,r)}}catch(t){return{type:\"throw\",arg:t}}}t.wrap=c;var l={};function f(){}function h(){}function d(){}var p={};p[i]=function(){return this};var g=Object.getPrototypeOf,m=g&&g(g(j([])));m&&m!==e&&r.call(m,i)&&(p=m);var v=d.prototype=f.prototype=Object.create(p);function y(t){[\"next\",\"throw\",\"return\"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var n;this._invoke=function(i,o){function a(){return new e((function(n,a){!function n(i,o,a,u){var c=s(t[i],t,o);if(\"throw\"!==c.type){var l=c.arg,f=l.value;return f&&\"object\"==typeof f&&r.call(f,\"__await\")?e.resolve(f.__await).then((function(t){n(\"next\",t,a,u)}),(function(t){n(\"throw\",t,a,u)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n(\"throw\",t,a,u)}))}u(c.arg)}(i,o,n,a)}))}return n=n?n.then(a,a):a()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,\"throw\"===e.method){if(t.iterator.return&&(e.method=\"return\",e.arg=void 0,w(t,e),\"throw\"===e.method))return l;e.method=\"throw\",e.arg=new TypeError(\"The iterator does not provide a 'throw' method\")}return l}var n=s(r,t.iterator,e.arg);if(\"throw\"===n.type)return e.method=\"throw\",e.arg=n.arg,e.delegate=null,l;var i=n.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,\"return\"!==e.method&&(e.method=\"next\",e.arg=void 0),e.delegate=null,l):i:(e.method=\"throw\",e.arg=new TypeError(\"iterator result is not an object\"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type=\"normal\",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:\"root\"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[i];if(e)return e.call(t);if(\"function\"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=v.constructor=d,d.constructor=h,h.displayName=u(d,a,\"GeneratorFunction\"),t.isGeneratorFunction=function(t){var e=\"function\"==typeof t&&t.constructor;return!!e&&(e===h||\"GeneratorFunction\"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,a,\"GeneratorFunction\")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},y(b.prototype),b.prototype[o]=function(){return this},t.AsyncIterator=b,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new b(c(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(v),u(v,a,\"Generator\"),v[i]=function(){return this},v.toString=function(){return\"[object Generator]\"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)\"t\"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if(\"throw\"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type=\"throw\",a.arg=t,e.next=r,n&&(e.method=\"next\",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if(\"root\"===o.tryLoc)return n(\"end\");if(o.tryLoc<=this.prev){var u=r.call(o,\"catchLoc\"),c=r.call(o,\"finallyLoc\");if(u&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error(\"try statement without catch or finally\");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,\"finallyLoc\")&&this.prev<i.finallyLoc){var o=i;break}}o&&(\"break\"===t||\"continue\"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method=\"next\",this.next=o.finallyLoc,l):this.complete(a)},complete:function(t,e){if(\"throw\"===t.type)throw t.arg;return\"break\"===t.type||\"continue\"===t.type?this.next=t.arg:\"return\"===t.type?(this.rval=this.arg=t.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if(\"throw\"===n.type){var i=n.arg;E(r)}return i}}throw new Error(\"illegal catch attempt\")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},\"next\"===this.method&&(this.arg=void 0),l}},t}(t.exports);try{regeneratorRuntime=n}catch(t){Function(\"r\",\"regeneratorRuntime = r\")(n)}},function(t,e,r){\"use strict\";r.r(e),r.d(e,\"ImageDrop\",(function(){return h}));var n=r(0),i=r.n(n),o=r(1),a=r.n(o),u=r(2),c=r.n(u),s=r(3),l=r.n(s),f=r(4).file2b64,h=function(){function t(e,r,n){var i=this;c()(this,t),this.logger=n,this.quill=e,this.onNewDataUrl=r,this.quill.root.addEventListener(\"drop\",(function(t){return i.handleDrop(t)}),!1),this.quill.root.addEventListener(\"paste\",(function(t){return i.handlePaste(t)}),!1)}var e;return l()(t,[{key:\"handleNewImageFiles\",value:(e=a()(i.a.mark((function t(e){var r,n,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Array.isArray(e)){t.next=2;break}return t.abrupt(\"return\");case 2:if(r=e.pop()){t.next=5;break}return t.abrupt(\"return\");case 5:return n=r.getAsFile?r.getAsFile():r,t.next=8,f(n);case 8:o=t.sent,this.logger.log(\"handlePaste\",{base64ImageSrc:o}),this.onNewDataUrl(o);case 11:case\"end\":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:\"handleDrop\",value:function(t){t.preventDefault();var e=t.dataTransfer&&t.dataTransfer.files&&t.dataTransfer.files.length;if(this.logger.log(\"handleDrop\",{hasFiles:e}),e){if(document.caretRangeFromPoint){var r=document.getSelection(),n=document.caretRangeFromPoint(t.clientX,t.clientY);r&&n&&r.setBaseAndExtent(n.startContainer,n.startOffset,n.startContainer,n.startOffset)}var i=this.getImageFiles(t.dataTransfer.files);this.handleNewImageFiles(i)}}},{key:\"handlePaste\",value:function(t){var e=t.clipboardData&&t.clipboardData.items&&!!t.clipboardData.items.length;if(this.logger.log(\"handlePaste\",{hasItems:e}),e){var r=this.getImageFiles(t.clipboardData.items);0!==r.length&&(t.preventDefault(),this.handleNewImageFiles(r))}}},{key:\"getImageFiles\",value:function(t){var e=Array.from(t);return this.logger.log(\"readFiles\",{files:e}),e.filter((function(t){return!!t.type.match(/^image\\/(gif|jpe?g|a?png|svg|webp|bmp|vnd\\.microsoft\\.icon)/i)}))||[]}}]),t}()}])}));\r\n"]}]}